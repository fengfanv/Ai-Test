import numpy as np


a = np.arange(30).reshape(3,2,5)
print(a)
# array([[[ 0,  1,  2,  3,  4],
#         [ 5,  6,  7,  8,  9]],

#        [[10, 11, 12, 13, 14],
#         [15, 16, 17, 18, 19]],

#        [[20, 21, 22, 23, 24],
#         [25, 26, 27, 28, 29]]])



print(a[:,1:2,:])
# array([[[ 5,  6,  7,  8,  9]],

#        [[15, 16, 17, 18, 19]],

#        [[25, 26, 27, 28, 29]]])
print(a[:,1:2,:].shape)
# (3, 1, 5)



print(a[:,1,:])
# array([[ 5,  6,  7,  8,  9],
#        [15, 16, 17, 18, 19],
#        [25, 26, 27, 28, 29]])
print(a[:,1,:].shape)
# (3, 5)




b = np.arange(40).reshape(2,5,2,2)
print(b)
# array([[[[ 0,  1],
#          [ 2,  3]],

#         [[ 4,  5],
#          [ 6,  7]],

#         [[ 8,  9],
#          [10, 11]],

#         [[12, 13],
#          [14, 15]],

#         [[16, 17],
#          [18, 19]]],


#        [[[20, 21],
#          [22, 23]],

#         [[24, 25],
#          [26, 27]],

#         [[28, 29],
#          [30, 31]],

#         [[32, 33],
#          [34, 35]],

#         [[36, 37],
#          [38, 39]]]])


print(b[:,1:2,...])
# array([[[[ 4,  5],
#          [ 6,  7]]],


#        [[[24, 25],
#          [26, 27]]]])
print(b[:,1:2,...].shape)
# (2, 1, 2, 2)




print(b[:,1,...])
# array([[[ 4,  5],
#         [ 6,  7]],

#        [[24, 25],
#         [26, 27]]])
print(b[:,1,...].shape)
# (2, 2, 2)



#--------------------------------------



c = np.arange(1,7).reshape(2,3,1)
print(c)
# array([[[1],
#         [2],
#         [3]],

#        [[4],
#         [5],
#         [6]]])

print(c[1:2,0:2,0])
# array([[4, 5]])

print(c[1:2,...][...,0:2,:][...,0])
# array([[4, 5]])

print(c[1:2,...][...,0:2,:][0])
# array([[4],
#        [5]])

print(c[1:2][0:2][0])
# array([[4],
#        [5],
#        [6]])


#--------------------------------------


index1 = slice(0,1)
index2 = slice(1,2)
print(index1)
# slice(0, 1, None)
print(index2)
# slice(1, 2, None)


print(c[index1,...,index2,:])
# array([[[2]]])
print(c[index1,...,index2,:].shape)
# (1, 1, 1)
print(c[index1,...][...,index2,:][...,:])
# array([[[2]]])


#上面的案例，index1 与 index2 之间的 ... 没啥用，有点混淆视听，不好理解。如下版本好理解：


print(c[index1,index2,:])
# array([[[2]]])
print(c[index1,...][...,index2,:][...,:])
# array([[[2]]])


#--------------------------------------






